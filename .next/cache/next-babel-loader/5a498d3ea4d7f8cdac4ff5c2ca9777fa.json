{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport Layout from '../../../components/Layout';\nimport { Button } from \"semantic-ui-react\";\nimport { Link } from '../../../routes';\nimport web3 from '../../../ethereum/web3';\nimport { Router } from \"../../../routes\";\nimport createCampaign from '../../../ethereum/campaign';\n\nclass RequestIndex extends Component {\n  static async getInitialProps(props) {\n    const {\n      address\n    } = props.query;\n    const campaign = await createCampaign(address);\n    const requestCount = await campaign.methods.getRequestsCount().call();\n    console.log(requestCount);\n    const requests = await Promise.all(Array(requestCount).fill().map(async (element, index) => {\n      return await campaign.methods.requests(index).call();\n    }));\n    console.log(requests);\n    return {\n      address,\n      requests,\n      requestCount\n    };\n  }\n\n  render() {\n    return __jsx(Layout, null, __jsx(\"h3\", null, \"Request List\"), __jsx(Link, {\n      route: `/campaigns/${this.props.address}/requests/new`\n    }, __jsx(\"a\", null, __jsx(Button, {\n      primary: true\n    }, \"Add Request\"))));\n  }\n\n}\n\nexport default RequestIndex;","map":null,"metadata":{},"sourceType":"module"}
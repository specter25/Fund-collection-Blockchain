{"ast":null,"code":"var _jsxFileName = \"/home/specter25/blockchain/udemy course projects/kickstarter/pages/campaigns/new.js\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport Layout from \"../../components/Layout\";\nimport { Form, Button, Input, Message } from \"semantic-ui-react\";\nimport factory from \"../../ethereum/Factory\";\nimport web3 from \"../../ethereum/web3\";\n\nclass CampaignNew extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      minimumContribution: '',\n      errorMessage: ''\n    });\n\n    _defineProperty(this, \"handleChange\", e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n      console.log(this.state.minimumContribution);\n    });\n\n    _defineProperty(this, \"handleSubmit\", async e => {\n      e.preventDefault();\n\n      try {\n        const accounts = await web3.eth.getAccounts();\n        await factory.methods.createCampaign(this.state.minimumContribution).send({\n          from: accounts[0]\n        });\n      } catch (error) {\n        this.setState({\n          errorMessage: error.Messsage\n        });\n      }\n    });\n  }\n\n  render() {\n    return __jsx(Layout, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 13\n      }\n    }, __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 13\n      }\n    }, __jsx(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }\n    }, \"new Campaign\"), __jsx(Form, {\n      error: true,\n      onSubmit: e => this.handleSubmit(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }\n    }, __jsx(Form.Field, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 14\n      }\n    }, __jsx(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }\n    }, \"Minimum Contribution\"), __jsx(Input, {\n      name: \"minimumContribution\",\n      label: \"wei\",\n      labelPosition: \"right\",\n      value: this.state.minimumContribution,\n      onChange: e => this.handleChange(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }\n    })), __jsx(Message, {\n      error: true,\n      header: \"Oops!\",\n      content: this.state.errorMessage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }\n    }), __jsx(Button, {\n      primary: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }\n    }, \"Create!\"))));\n  }\n\n}\n\nexport default CampaignNew;","map":{"version":3,"sources":["/home/specter25/blockchain/udemy course projects/kickstarter/pages/campaigns/new.js"],"names":["React","Component","Layout","Form","Button","Input","Message","factory","web3","CampaignNew","minimumContribution","errorMessage","e","setState","target","name","value","console","log","state","preventDefault","accounts","eth","getAccounts","methods","createCampaign","send","from","error","Messsage","render","handleSubmit","handleChange"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,SAASC,IAAT,EAAeC,MAAf,EAAuBC,KAAvB,EAA8BC,OAA9B,QAA4C,mBAA5C;AACA,OAAOC,OAAP,MAAoB,wBAApB;AACA,OAAOC,IAAP,MAAiB,qBAAjB;;AAEA,MAAMC,WAAN,SAA0BR,SAA1B,CAAoC;AAAA;AAAA;;AAAA,mCAC5B;AACJS,MAAAA,mBAAmB,EAAC,EADhB;AAEJC,MAAAA,YAAY,EAAC;AAFT,KAD4B;;AAAA,0CAKpBC,CAAD,IAAK;AAEhB,WAAKC,QAAL,CAAc;AACZ,SAACD,CAAC,CAACE,MAAF,CAASC,IAAV,GAAgBH,CAAC,CAACE,MAAF,CAASE;AADb,OAAd;AAGAC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,KAAL,CAAWT,mBAAvB;AACD,KAXiC;;AAAA,0CAYrB,MAAOE,CAAP,IAAW;AACxBA,MAAAA,CAAC,CAACQ,cAAF;;AACA,UAAI;AACF,cAAMC,QAAQ,GAAC,MAAMb,IAAI,CAACc,GAAL,CAASC,WAAT,EAArB;AAEA,cAAMhB,OAAO,CAACiB,OAAR,CAAgBC,cAAhB,CAA+B,KAAKN,KAAL,CAAWT,mBAA1C,EAA+DgB,IAA/D,CACJ;AACEC,UAAAA,IAAI,EAACN,QAAQ,CAAC,CAAD;AADf,SADI,CAAN;AAKD,OARD,CAQE,OAAOO,KAAP,EAAc;AACd,aAAKf,QAAL,CAAc;AAACF,UAAAA,YAAY,EAACiB,KAAK,CAACC;AAApB,SAAd;AACD;AAEA,KA1BiC;AAAA;;AA6BhCC,EAAAA,MAAM,GAAG;AACL,WACI,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,EAEI,MAAC,IAAD;AAAM,MAAA,KAAK,MAAX;AAAY,MAAA,QAAQ,EAAGlB,CAAD,IAAK,KAAKmB,YAAL,CAAkBnB,CAAlB,CAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACH,MAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADC,EAED,MAAC,KAAD;AACE,MAAA,IAAI,EAAC,qBADP;AAEE,MAAA,KAAK,EAAC,KAFR;AAGE,MAAA,aAAa,EAAC,OAHhB;AAIE,MAAA,KAAK,EAAE,KAAKO,KAAL,CAAWT,mBAJpB;AAKE,MAAA,QAAQ,EAAGE,CAAD,IAAK,KAAKoB,YAAL,CAAkBpB,CAAlB,CALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFC,CADG,EAYN,MAAC,OAAD;AAAS,MAAA,KAAK,MAAd;AAAe,MAAA,MAAM,EAAC,OAAtB;AAA8B,MAAA,OAAO,EAAE,KAAKO,KAAL,CAAWR,YAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAZM,EAaN,MAAC,MAAD;AAAQ,MAAA,OAAO,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAbM,CAFJ,CADA,CADJ;AAwBH;;AAtD+B;;AA0DpC,eAAeF,WAAf","sourcesContent":["import React, { Component } from 'react'\nimport Layout from \"../../components/Layout\";\nimport { Form ,Button ,Input ,Message} from \"semantic-ui-react\";\nimport factory from \"../../ethereum/Factory\";\nimport web3 from \"../../ethereum/web3\";\n\nclass CampaignNew extends Component {\n  state={\n    minimumContribution:'',\n    errorMessage:''\n  }\n  handleChange=(e)=>{\n    \n    this.setState({\n      [e.target.name]:e.target.value\n    });\n    console.log(this.state.minimumContribution);\n  };\n  handleSubmit=async (e)=>{\n  e.preventDefault();\n  try {\n    const accounts=await web3.eth.getAccounts();\n\n    await factory.methods.createCampaign(this.state.minimumContribution).send(\n      {\n        from:accounts[0],\n      }\n    )\n  } catch (error) {\n    this.setState({errorMessage:error.Messsage}) \n  }\n  \n  };\n  \n\n    render() {\n        return (\n            <Layout>\n            <div>\n                <h1>new Campaign</h1>\n                <Form error onSubmit={(e)=>this.handleSubmit(e)} >\n             <Form.Field>\n            <label>Minimum Contribution</label>\n            <Input\n              name='minimumContribution'\n              label=\"wei\"\n              labelPosition=\"right\"\n              value={this.state.minimumContribution}\n              onChange={(e)=>this.handleChange(e)}\n            />\n          </Form.Field>\n\n          <Message error header=\"Oops!\" content={this.state.errorMessage} />\n          <Button primary>\n            Create!\n          </Button>\n        </Form>\n            </div>\n            </Layout>\n        )\n    }\n}\n\n\nexport default CampaignNew;"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/home/specter25/blockchain/udemy course projects/kickstarter/pages/campaigns/new.js\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport Layout from \"../../components/Layout\";\nimport { Form, Button, Input, Message } from \"semantic-ui-react\";\nimport factory from \"../../ethereum/Factory\";\nimport web3 from \"../../ethereum/web3\";\n\nclass CampaignNew extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      minimumContribution: '',\n      errorMessage: '',\n      loading: false\n    });\n\n    _defineProperty(this, \"handleChange\", e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      }); // console.log(this.state.minimumContribution);\n    });\n\n    _defineProperty(this, \"handleSubmit\", async e => {\n      e.preventDefault();\n      this.setState({\n        loading: true\n      });\n\n      try {\n        const accounts = await web3.eth.getAccounts();\n        await factory.methods.createCampaign(this.state.minimumContribution).send({\n          from: accounts[0]\n        });\n      } catch (error) {\n        this.setState({\n          errorMessage: error.message\n        }); // console.log(this.state.errorMessage);\n      }\n\n      this.setState({\n        loading: false\n      });\n    });\n  }\n\n  render() {\n    return __jsx(Layout, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 13\n      }\n    }, __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }\n    }, __jsx(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }\n    }, \"new Campaign\"), __jsx(Form, {\n      error: !!this.state.errorMessage,\n      onSubmit: e => this.handleSubmit(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }\n    }, __jsx(Form.Field, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 14\n      }\n    }, __jsx(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }\n    }, \"Minimum Contribution\"), __jsx(Input, {\n      name: \"minimumContribution\",\n      label: \"wei\",\n      labelPosition: \"right\",\n      value: this.state.minimumContribution,\n      onChange: e => this.handleChange(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }\n    })), __jsx(Message, {\n      error: true,\n      header: \"Oops!\",\n      content: this.state.errorMessage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }\n    }), __jsx(Button, {\n      loading: this.state.loading,\n      primary: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }\n    }, \"Create!\"))));\n  }\n\n}\n\nexport default CampaignNew;","map":{"version":3,"sources":["/home/specter25/blockchain/udemy course projects/kickstarter/pages/campaigns/new.js"],"names":["React","Component","Layout","Form","Button","Input","Message","factory","web3","CampaignNew","minimumContribution","errorMessage","loading","e","setState","target","name","value","preventDefault","accounts","eth","getAccounts","methods","createCampaign","state","send","from","error","message","render","handleSubmit","handleChange"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,SAASC,IAAT,EAAeC,MAAf,EAAuBC,KAAvB,EAA8BC,OAA9B,QAA4C,mBAA5C;AACA,OAAOC,OAAP,MAAoB,wBAApB;AACA,OAAOC,IAAP,MAAiB,qBAAjB;;AAEA,MAAMC,WAAN,SAA0BR,SAA1B,CAAoC;AAAA;AAAA;;AAAA,mCAC5B;AACJS,MAAAA,mBAAmB,EAAC,EADhB;AAEJC,MAAAA,YAAY,EAAC,EAFT;AAGJC,MAAAA,OAAO,EAAC;AAHJ,KAD4B;;AAAA,0CAMpBC,CAAD,IAAK;AAEhB,WAAKC,QAAL,CAAc;AACZ,SAACD,CAAC,CAACE,MAAF,CAASC,IAAV,GAAgBH,CAAC,CAACE,MAAF,CAASE;AADb,OAAd,EAFgB,CAKhB;AACD,KAZiC;;AAAA,0CAarB,MAAOJ,CAAP,IAAW;AACxBA,MAAAA,CAAC,CAACK,cAAF;AACA,WAAKJ,QAAL,CAAc;AAACF,QAAAA,OAAO,EAAC;AAAT,OAAd;;AACA,UAAI;AACF,cAAMO,QAAQ,GAAC,MAAMX,IAAI,CAACY,GAAL,CAASC,WAAT,EAArB;AAEA,cAAMd,OAAO,CAACe,OAAR,CAAgBC,cAAhB,CAA+B,KAAKC,KAAL,CAAWd,mBAA1C,EAA+De,IAA/D,CACJ;AACEC,UAAAA,IAAI,EAACP,QAAQ,CAAC,CAAD;AADf,SADI,CAAN;AAKD,OARD,CAQE,OAAOQ,KAAP,EAAc;AACd,aAAKb,QAAL,CAAc;AAACH,UAAAA,YAAY,EAACgB,KAAK,CAACC;AAApB,SAAd,EADc,CAEd;AACD;;AACD,WAAKd,QAAL,CAAc;AAACF,QAAAA,OAAO,EAAC;AAAT,OAAd;AACC,KA7BiC;AAAA;;AAgChCiB,EAAAA,MAAM,GAAG;AACL,WACI,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,EAEI,MAAC,IAAD;AAAM,MAAA,KAAK,EAAE,CAAC,CAAC,KAAKL,KAAL,CAAWb,YAA1B;AAAwC,MAAA,QAAQ,EAAGE,CAAD,IAAK,KAAKiB,YAAL,CAAkBjB,CAAlB,CAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACH,MAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADC,EAED,MAAC,KAAD;AACE,MAAA,IAAI,EAAC,qBADP;AAEE,MAAA,KAAK,EAAC,KAFR;AAGE,MAAA,aAAa,EAAC,OAHhB;AAIE,MAAA,KAAK,EAAE,KAAKW,KAAL,CAAWd,mBAJpB;AAKE,MAAA,QAAQ,EAAGG,CAAD,IAAK,KAAKkB,YAAL,CAAkBlB,CAAlB,CALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFC,CADG,EAYN,MAAC,OAAD;AAAS,MAAA,KAAK,MAAd;AAAe,MAAA,MAAM,EAAC,OAAtB;AAA8B,MAAA,OAAO,EAAE,KAAKW,KAAL,CAAWb,YAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAZM,EAaN,MAAC,MAAD;AAAQ,MAAA,OAAO,EAAE,KAAKa,KAAL,CAAWZ,OAA5B;AAAqC,MAAA,OAAO,MAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAbM,CAFJ,CADA,CADJ;AAwBH;;AAzD+B;;AA6DpC,eAAeH,WAAf","sourcesContent":["import React, { Component } from 'react'\nimport Layout from \"../../components/Layout\";\nimport { Form ,Button ,Input ,Message} from \"semantic-ui-react\";\nimport factory from \"../../ethereum/Factory\";\nimport web3 from \"../../ethereum/web3\";\n\nclass CampaignNew extends Component {\n  state={\n    minimumContribution:'',\n    errorMessage:'',\n    loading:false\n  }\n  handleChange=(e)=>{\n    \n    this.setState({\n      [e.target.name]:e.target.value\n    });\n    // console.log(this.state.minimumContribution);\n  };\n  handleSubmit=async (e)=>{\n  e.preventDefault();\n  this.setState({loading:true})\n  try {\n    const accounts=await web3.eth.getAccounts();\n\n    await factory.methods.createCampaign(this.state.minimumContribution).send(\n      {\n        from:accounts[0],\n      }\n    )\n  } catch (error) {\n    this.setState({errorMessage:error.message}) ;\n    // console.log(this.state.errorMessage);\n  }\n  this.setState({loading:false});\n  };\n  \n\n    render() {\n        return (\n            <Layout>\n            <div>\n                <h1>new Campaign</h1>\n                <Form error={!!this.state.errorMessage} onSubmit={(e)=>this.handleSubmit(e)} >\n             <Form.Field>\n            <label>Minimum Contribution</label>\n            <Input\n              name='minimumContribution' \n              label=\"wei\"\n              labelPosition=\"right\"\n              value={this.state.minimumContribution}\n              onChange={(e)=>this.handleChange(e)}\n            />\n          </Form.Field>\n\n          <Message error header=\"Oops!\" content={this.state.errorMessage} />\n          <Button loading={this.state.loading} primary>\n            Create!\n          </Button>\n        </Form>\n            </div>\n            </Layout>\n        )\n    }\n}\n\n\nexport default CampaignNew;"]},"metadata":{},"sourceType":"module"}